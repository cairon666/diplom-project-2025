# CI/CD Pipeline

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

## üîÑ CI Pipeline (`ci.yml`)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏:

- Push –≤ –≤–µ—Ç–∫–∏ `main`, `develop`
- –°–æ–∑–¥–∞–Ω–∏–∏ Pull Request'–∞

**–í–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö job'–∞:**

### üîß Backend

- üì¶ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: `go mod download`
- üßπ **–õ–∏–Ω—Ç–∏–Ω–≥**: golangci-lint —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏–∑ `.golangci.yaml`
- üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `go test -v ./...`
- üèóÔ∏è **–°–±–æ—Ä–∫–∞**: `go build -v ./cmd/...`

### ‚öõÔ∏è Frontend

- üì¶ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: `npm ci`
- üîç **TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞**: `npm run tsc`
- üßπ **–õ–∏–Ω—Ç–∏–Ω–≥**: ESLint
- üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `npm run test`
- üèóÔ∏è **–°–±–æ—Ä–∫–∞**: `npm run build`

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–æ–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ [BRANCH_PROTECTION_SETUP.md](./BRANCH_PROTECTION_SETUP.md) –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—Ç—ã –≤–µ—Ç–æ–∫.

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å-—á–µ–∫–∏:**

- ‚úÖ Backend
- ‚úÖ Frontend

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Backend
cd backend
go mod download
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

# Frontend
cd frontend
npm ci
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# Backend
cd backend
golangci-lint run
go test ./...
go build -v ./cmd/...

# Frontend
cd frontend
npm run tsc
npx eslint . --ext .ts,.tsx
npm run test
npm run build
```

### Pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ lefthook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
go install github.com/evilmartians/lefthook@latest
lefthook install

# –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –±—É–¥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ commit
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. **–û–±–Ω–æ–≤–∏—Ç–µ CODEOWNERS**: –ó–∞–º–µ–Ω–∏—Ç–µ `@cairon666` –Ω–∞ –≤–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞—â–∏—Ç—É –≤–µ—Ç–æ–∫**: –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ BRANCH_PROTECTION_SETUP.md

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è

### Branch naming

- `feature/TASK-123-description` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `bugfix/TASK-456-description` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `hotfix/critical-issue` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Commit messages

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ conventional commits:

- `feat: add user authentication`
- `fix: resolve memory leak in backend`
- `docs: update API documentation`
- `test: add integration tests for orders`

### Pull Requests

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –ó–∞–ø–æ–ª–Ω—è–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è UI –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü—Ä–∏–≤—è–∑—ã–≤–∞–π—Ç–µ –∫ –∑–∞–¥–∞—á–∞–º (issue/task)

## üÜò Troubleshooting

### CI –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –≤ `go.mod` –∏ `package.json`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `package-lock.json` –∞–∫—Ç—É–∞–ª–µ–Ω
3. –õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `go mod tidy` –∏ `npm ci`

### –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–∞–¥–∞—é—Ç –≤ CI

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–µ—Å—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º (case sensitivity)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –∏ –ª–æ–∫–∞–ª–∏

### –õ–∏–Ω—Ç–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–∏–Ω—Ç–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ: `golangci-lint run` –∏–ª–∏ `npm run lint`
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º CI/CD –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ @cairon666
