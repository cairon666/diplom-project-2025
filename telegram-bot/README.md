# R-R Intervals Analytics Telegram Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –∏ –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ —Ä–∏—Ç–º–∞ (HRV).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–Ω–∞–ª–∏–∑ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ—Å–º–æ—Ç—Ä R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ HRV –º–µ—Ç—Ä–∏–∫–∏
- **–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π

## –ö–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/connect API_KEY` - –ü–æ–¥–∫–ª—é—á–∏—Ç—å API –∫–ª—é—á
- `/disconnect` - –û—Ç–∫–ª—é—á–∏—Ç—å API –∫–ª—é—á
- `/status` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

### R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã

- `/rr [–¥–∞—Ç–∞_–Ω–∞—á–∞–ª–∞] [–¥–∞—Ç–∞_–∫–æ–Ω—Ü–∞]` - –ü–æ–ª—É—á–∏—Ç—å R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- `/rrstats [–¥–∞—Ç–∞_–Ω–∞—á–∞–ª–∞] [–¥–∞—Ç–∞_–∫–æ–Ω—Ü–∞]` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
- `/rranalyze [–¥–∞—Ç–∞_–Ω–∞—á–∞–ª–∞] [–¥–∞—Ç–∞_–∫–æ–Ω—Ü–∞]` - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```
/rr 2024-01-01 2024-01-02
/rrstats 2024-01-01
/rranalyze 2024-01-01 2024-01-02
```

### –§–æ—Ä–º–∞—Ç—ã –¥–∞—Ç

- –ë–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤: —Å–µ–≥–æ–¥–Ω—è
- –û–¥–Ω–∞ –¥–∞—Ç–∞: –≤–µ—Å—å –¥–µ–Ω—å (2024-01-01)
- –î–≤–µ –¥–∞—Ç—ã: –¥–∏–∞–ø–∞–∑–æ–Ω (2024-01-01 2024-01-02)

## –ê–Ω–∞–ª–∏–∑ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

–ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ —Ä–∏—Ç–º–∞ (HRV), –≤–∫–ª—é—á–∞—è:

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

- **RMSSD** - –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å (–ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **SDNN** - –û–±—â–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
- **pNN50** - –ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ—Å–µ–¥–Ω–∏—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤, —Ä–∞–∑–ª–∏—á–∞—é—â–∏—Ö—Å—è –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 50 –º—Å

### –ß–∞—Å—Ç–æ—Ç–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

- **VLF Power** - –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã (0.003-0.04 –ì—Ü)
- **LF Power** - –ù–∏–∑–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã (0.04-0.15 –ì—Ü)
- **HF Power** - –í—ã—Å–æ–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã (0.15-0.4 –ì—Ü)
- **LF/HF Ratio** - –°–∏–º–ø–∞—Ç–æ/–ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å

### –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

- **–¢—Ä–µ—É–≥–æ–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å** - –û–±—â–∞—è –º–µ—Ä–∞ HRV
- **TINN** - –¢—Ä–∏–∞–Ω–≥—É–ª—è—Ä–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã

### –ê–Ω–∞–ª–∏–∑ –¥–∏–∞–≥—Ä–∞–º–º—ã –ü—É–∞–Ω–∫–∞—Ä–µ

- **SD1** - –ë—ã—Å—Ç—Ä–∞—è –∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å
- **SD2** - –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å
- **CSI** - –ò–Ω–¥–µ–∫—Å —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞
- **CVI** - –ò–Ω–¥–µ–∫—Å —Å–µ—Ä–¥–µ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é:

- ‚úÖ **–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** - –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
- ‚ö†Ô∏è **–û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è** - –∑–Ω–∞—á–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
- ü©∫ **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - –æ–±—â–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

### –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏:

**RMSSD:**

- < 20 –º—Å: –ù–∏–∑–∫–∞—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
- 20-50 –º—Å: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
- > 50 –º—Å: –í—ã—Å–æ–∫–∞—è –≤–∞—Ä–∏–∞–±–µ–ª—å–Ω–æ—Å—Ç—å

**LF/HF Ratio:**

- < 1.5: –•–æ—Ä–æ—à–∏–π –ø–∞—Ä–∞—Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–æ–Ω—É—Å (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- 1.5-2.5: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ù–°
- > 2.5: –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Å–∏–º–ø–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–æ–Ω—É—Å (—Å—Ç—Ä–µ—Å—Å)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.19+
- –î–æ—Å—Ç—É–ø –∫ API backend —Å–µ—Ä–≤–∏—Å–∞ —Å R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏
- Telegram Bot Token

## –ó–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `config.yaml`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
go run main.go
```

–ò–ª–∏ —Å Docker:

```bash
docker build -t rr-intervals-bot .
docker run -v $(pwd)/config.yaml:/app/config.yaml rr-intervals-bot
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
telegram:
  bot_token: "YOUR_BOT_TOKEN"
  debug: false

api:
  base_url: "http://localhost:8080/v1"
  timeout: 30s

log:
  level: "info"
  format: "json"

storage:
  file_path: "./data/users.json"
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ
2. –°–æ–∑–¥–∞–π—Ç–µ External App –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API –∫–ª—é—á
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/connect YOUR_API_KEY` –≤ –±–æ—Ç–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ HTTPS
- –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram-bot/
‚îú‚îÄ‚îÄ main.go                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.yaml               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ go.mod                    # Go –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ examples.md               # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go         # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.go        # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client.go         # HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ API
‚îÇ   ‚îî‚îÄ‚îÄ bot/
‚îÇ       ‚îú‚îÄ‚îÄ bot.go            # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ commands.go       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
‚îî‚îÄ‚îÄ data/
    ‚îî‚îÄ‚îÄ users.json            # –§–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞**: `/start`
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ**: –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. **–°–æ–∑–¥–∞–Ω–∏–µ External App**: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞
4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É**: `/connect YOUR_API_KEY`
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ R-R –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –ª–æ–≥–∏—Ä—É–µ—Ç:

- –í—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- API –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

–õ–æ–≥–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
